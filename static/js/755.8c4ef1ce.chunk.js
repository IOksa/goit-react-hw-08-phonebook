"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[755],{8680:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var a=t(2791),s=t(9434),r=t(4270),o="Container_container__VVOCq",c=t(184),l=function(e){var n=e.children;return(0,c.jsx)("section",{className:o,children:n})},i=t(9439),u="ContactsListItem_contactListItem__contactThumb__gyDOt",d="ContactsListItem_contactListItem__button__FNzGF",m=t(3634),_=t(4164),h="Modal_Overlay__yoxbg",p="Modal_Modal__I1UYJ",x=function(e){var n=e.children,t=e.onCloseModal;return(0,_.createPortal)((0,c.jsx)("div",{className:h,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,c.jsx)("div",{className:p,children:n})}),document.querySelector("#popup-root"))},f="ContactForm_phonebook__formContact__1n7wl",j="ContactForm_phonebook__formContactLabel__58UKO",C="ContactForm_phonebook__formContactInput__ADocP",b="ContactForm_buttonWrap__0ZCH-",v="ContactForm_form__button__MT1Jk",N=function(e){var n=e.currentId,t=e.currentName,r=e.currentNumber,o=e.onCloseModal,l=(0,a.useState)(t),u=(0,i.Z)(l,2),d=u[0],_=u[1],h=(0,a.useState)(r),p=(0,i.Z)(h,2),x=p[0],N=p[1],w=(0,s.I0)(),g=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":_(a);break;case"number":N(a);break;default:console.warn("\u0422\u0438\u043f \u043f\u043e\u043b\u044f name - ".concat(t," \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f"))}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:d,number:x};console.log("currentId=",n),console.log("newContact=",t),w((0,m.mP)({currentId:n,newContact:t})),o()},className:f,children:[(0,c.jsx)("label",{className:j,children:"Name"}),(0,c.jsx)("input",{type:"name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,defaultValue:t,onChange:g,className:C}),(0,c.jsx)("label",{className:j,children:"Number"}),(0,c.jsx)("input",{type:"tel",name:"number",pattern:"^[0-9]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,defaultValue:r,onChange:g,className:C}),(0,c.jsx)("div",{className:b,children:(0,c.jsx)("button",{type:"submit",className:v,children:"Edit contact"})})]})})},w="ButtonClose_buttonClose__wgjfl",g="ButtonClose_buttonCloseIcon__6SQ6C";var y,k=t.p+"static/media/icons.4a1de16e886a844401d275329ee76a1f.svg",L=function(e){var n=e.onCloseModal;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("button",{type:"button",className:w,onClick:n,children:(0,c.jsx)("svg",{className:g,children:(0,c.jsx)("use",{href:"".concat(k,"#icon-x-close")})})})})},F=function(e){var n=e.contact,t=n.id,r=n.name,o=n.number,l=(0,a.useState)(!1),_=(0,i.Z)(l,2),h=_[0],p=_[1],f=(0,a.useState)(!1),j=(0,i.Z)(f,2),C=j[0],b=j[1],v=(0,s.I0)(),w=function(){b(!1),window.removeEventListener("keydown",g)},g=function(e){"Escape"===e.code&&w()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:u,children:[(0,c.jsxs)("p",{children:[r,": "]}),(0,c.jsx)("p",{children:o})]}),(0,c.jsx)("button",{type:"button",onClick:function(){p(!0),v((0,m.GK)(t)),p(!1)},className:d,children:"Delete"}),(0,c.jsx)("button",{type:"button",onClick:function(){b(!0),window.addEventListener("keydown",g)},disabled:h,className:d,children:"Edit"}),C&&(0,c.jsxs)(x,{onCloseModal:w,children:[(0,c.jsx)(L,{onCloseModal:w}),(0,c.jsx)(N,{onCloseModal:w,currentId:t,currentName:r,currentNumber:o})]})]})},I="ContactList_contactList__title__E15m2",Z="ContactList_contactList__list__L6B7x",M="ContactList_contactList__item__w7IDj",A=function(e){return e.contacts.contacts},S=function(e){return e.contacts.isLoading},E=function(e){return e.filter.value},z=function(){var e=(0,s.v9)(A),n=(0,s.v9)(E),t=function(){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)})).sort((function(e,n){return e.name.localeCompare(n.name)}))}();return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:I,children:"Contacts"}),(0,c.jsx)("ul",{className:Z,children:t.map((function(e){return(0,c.jsx)("li",{className:M,children:(0,c.jsx)(F,{contact:e})},e.id)}))})]})},q={filter__wrap:"Filter_filter__wrap__DZxCY",filter__input:"Filter_filter__input__toa89"},D=t(4808),P=function(){var e=(0,s.I0)(),n=(0,s.v9)(E);return(0,c.jsxs)("div",{className:q.filter__wrap,children:[(0,c.jsx)("label",{className:q.filter__label,children:"Find contacts by name "}),(0,c.jsx)("input",{type:"text",value:n,placeholder:"search...",onChange:function(n){e((0,D.p)(n.currentTarget.value))},className:q.filter__input})]})},B="Contacts_phonebook__title__ylLCu",O="Contacts_wrap__-xpSk",J=t(4281),T=t(5206),V=(t(5462),function(e){var n=e.onCloseModal,t=(0,a.useState)(""),r=(0,i.Z)(t,2),o=r[0],l=r[1],u=(0,a.useState)(""),d=(0,i.Z)(u,2),_=d[0],h=d[1],p=(0,s.I0)(),x=(0,s.v9)(A),N=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":l(a);break;case"number":h(a);break;default:console.warn("\u0422\u0438\u043f \u043f\u043e\u043b\u044f name - ".concat(t," \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f"))}},w=function(e,n){var t=e.toLowerCase(),a=x.findIndex((function(e){return e.name.toLowerCase()===t}));if(console.log("isInContacts",a),-1!==a)T.Am.error("".concat(e," is already in contacts"));else{var s={name:e,number:n};p((0,m.uK)(s))}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(o,_),l(""),h(""),n()},className:f,children:[(0,c.jsx)("label",{className:j,children:"Name"}),(0,c.jsx)("input",{type:"name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:o,onChange:N,className:C}),(0,c.jsx)("label",{className:j,children:"Number"}),(0,c.jsx)("input",{type:"tel",name:"number",pattern:"^[0-9]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:_,onChange:N,className:C}),(0,c.jsx)("div",{className:b,children:(0,c.jsx)("button",{type:"submit",className:v,children:"Add contact"})})]}),(0,c.jsx)(T.Ix,{autoClose:"3000",theme:"colored"})]})}),$="ButtonModalAddContact_button__juOb3",K=function(){var e=(0,a.useState)(!1),n=(0,i.Z)(e,2),t=n[0],s=n[1],r=function(){s(!1),window.removeEventListener("keydown",o)},o=function(e){"Escape"===e.code&&r()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(J.Z,{variant:"contained",type:"submit",onClick:function(){s(!0),window.addEventListener("keydown",o)},className:$,children:"Add new contact"}),t&&(0,c.jsxs)(x,{onCloseModal:r,children:[(0,c.jsx)(L,{onCloseModal:r}),(0,c.jsx)(V,{onCloseModal:r})]})]})},Y=t(168),G=t(1040),U=t(9256).ZP.div(y||(y=(0,Y.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 160px;\n"]))),H=function(){return(0,c.jsx)(U,{children:(0,c.jsx)(G.p2,{height:"80",width:"80",color:"#0b5394",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0})})};function Q(){var e=(0,s.I0)(),n=(0,s.v9)(S);return(0,a.useEffect)((function(){e((0,m.yF)())}),[e]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.q,{children:(0,c.jsx)("title",{children:"Your contacts"})}),n?(0,c.jsx)(H,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{className:B,children:"Phonebook"}),(0,c.jsxs)(l,{children:[(0,c.jsxs)("div",{className:O,children:[(0,c.jsx)(P,{}),(0,c.jsx)(K,{})]}),(0,c.jsx)(z,{})]})]})]})}}}]);
//# sourceMappingURL=755.8c4ef1ce.chunk.js.map