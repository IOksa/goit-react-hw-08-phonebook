"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[680],{8106:function(e,t,n){n.d(t,{g:function(){return s}});var a=n(1040),r=n(184),s=function(){return(0,r.jsx)(a.s5,{strokeColor:"#0b5394",strokeWidth:"5",animationDuration:"0.75",width:"35",visible:!0})}},8680:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a=n(2791),r=n(9434),s=n(4270),o="Container_container__VVOCq",c=n(184),i=function(e){var t=e.children;return(0,c.jsx)("section",{className:o,children:t})},l=n(9439),u="ContactsListItem_contactListItem__contactThumb__gyDOt",d="ContactsListItem_contactListItem__button__FNzGF",m=n(3634),_=n(4164),h="Modal_Overlay__yoxbg",p="Modal_Modal__I1UYJ",f=function(e){var t=e.children,n=e.onCloseModal;return(0,_.createPortal)((0,c.jsx)("div",{className:h,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,c.jsx)("div",{className:p,children:t})}),document.querySelector("#popup-root"))},x="ContactForm_phonebook__formContact__1n7wl",b="ContactForm_phonebook__formContactLabel__58UKO",j="ContactForm_phonebook__formContactInput__ADocP",C="ContactForm_buttonWrap__0ZCH-",v="ContactForm_form__button__MT1Jk",N=function(e){return e.contacts.contacts},w=function(e){return e.contacts.isLoading},g=function(e){return e.filter.value},y=n(5218),k=n(8106),L=function(e){var t=e.currentId,n=e.currentName,s=e.currentNumber,o=e.onCloseModal,i=(0,a.useState)(n),u=(0,l.Z)(i,2),d=u[0],_=u[1],h=(0,a.useState)(s),p=(0,l.Z)(h,2),f=p[0],w=p[1],g=(0,a.useState)(!1),L=(0,l.Z)(g,2),F=L[0],I=L[1],Z=(0,r.I0)(),M=(0,r.v9)(N),S=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":_(a);break;case"number":w(a);break;default:console.warn("\u0422\u0438\u043f \u043f\u043e\u043b\u044f name - ".concat(n," \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f"))}},A=function(e,n){var a=e.toLowerCase();if(-1!==M.findIndex((function(e){return e.name.toLowerCase()===a})))y.ZP.error("".concat(e," is already in contacts"),{duration:3e3,position:"top-center"});else{var r={name:e,number:n};Z((0,m.mP)({currentId:t,newContact:r})),o()}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),I(!0),A(d,f),I(!1)},className:x,children:[(0,c.jsx)("label",{className:b,children:"Name"}),(0,c.jsx)("input",{type:"name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,defaultValue:n,onChange:S,className:j}),(0,c.jsx)("label",{className:b,children:"Number"}),(0,c.jsx)("input",{type:"tel",name:"number",pattern:"^[0-9]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,defaultValue:s,onChange:S,className:j}),(0,c.jsx)("div",{className:C,children:(0,c.jsx)("button",{type:"submit",className:v,disabled:F,children:F?(0,c.jsx)(k.g,{}):"Edit contact"})})]})})},F="ButtonClose_buttonClose__wgjfl",I="ButtonClose_buttonCloseIcon__6SQ6C";var Z,M=n.p+"static/media/icons.4a1de16e886a844401d275329ee76a1f.svg",S=function(e){var t=e.onCloseModal;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("button",{type:"button",className:F,onClick:t,children:(0,c.jsx)("svg",{className:I,children:(0,c.jsx)("use",{href:"".concat(M,"#icon-x-close")})})})})},A=function(e){var t=e.contact,n=t.id,s=t.name,o=t.number,i=(0,a.useState)(!1),_=(0,l.Z)(i,2),h=_[0],p=_[1],x=(0,a.useState)(!1),b=(0,l.Z)(x,2),j=b[0],C=b[1],v=(0,r.I0)(),N=function(){C(!1),window.removeEventListener("keydown",w)},w=function(e){"Escape"===e.code&&N()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:u,children:[(0,c.jsxs)("p",{children:[s,": "]}),(0,c.jsx)("p",{children:o})]}),(0,c.jsx)("button",{type:"button",onClick:function(){p(!0),v((0,m.GK)(n)),p(!1)},className:d,children:h?(0,c.jsx)(k.g,{}):"Delete"}),(0,c.jsx)("button",{type:"button",onClick:function(){C(!0),window.addEventListener("keydown",w)},disabled:h,className:d,children:"Edit"}),j&&(0,c.jsxs)(f,{onCloseModal:N,children:[(0,c.jsx)(S,{onCloseModal:N}),(0,c.jsx)(L,{onCloseModal:N,currentId:n,currentName:s,currentNumber:o})]})]})},E="ContactList_contactList__wrap__qmFuP",P="ContactList_contactList__title__E15m2",q="ContactList_contactList__list__L6B7x",D="ContactList_contactList__item__w7IDj",B=function(){var e=(0,r.v9)(N),t=(0,r.v9)(g),n=function(){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)})).sort((function(e,t){return e.name.localeCompare(t.name)}))}();return(0,c.jsxs)("div",{className:E,children:[(0,c.jsx)("h2",{className:P,children:"Contacts"}),(0,c.jsx)("ul",{className:q,children:n.map((function(e){return(0,c.jsx)("li",{className:D,children:(0,c.jsx)(A,{contact:e})},e.id)}))})]})},z={filter__wrap:"Filter_filter__wrap__DZxCY",filter__input:"Filter_filter__input__toa89"},O=n(4808),J=function(){var e=(0,r.I0)(),t=(0,r.v9)(g);return(0,c.jsxs)("div",{className:z.filter__wrap,children:[(0,c.jsx)("label",{className:z.filter__label,children:"Find contacts by name "}),(0,c.jsx)("input",{type:"text",value:t,placeholder:"search...",onChange:function(t){e((0,O.p)(t.currentTarget.value))},className:z.filter__input})]})},T="Contacts_phonebook__title__ylLCu",V="Contacts_wrap__-xpSk",$=n(4281),K=function(e){var t=e.onCloseModal,n=(0,a.useState)(""),s=(0,l.Z)(n,2),o=s[0],i=s[1],u=(0,a.useState)(""),d=(0,l.Z)(u,2),_=d[0],h=d[1],p=(0,a.useState)(!1),f=(0,l.Z)(p,2),w=f[0],g=f[1],L=(0,r.I0)(),F=(0,r.v9)(N),I=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":i(a);break;case"number":h(a);break;default:console.warn("\u0422\u0438\u043f \u043f\u043e\u043b\u044f name - ".concat(n," \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f"))}},Z=function(e,t){var n=e.toLowerCase();if(-1!==F.findIndex((function(e){return e.name.toLowerCase()===n})))y.ZP.error("".concat(e," is already in contacts"),{duration:1e3,position:"top-center"});else{var a={name:e,number:t};L((0,m.uK)(a))}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(!0),Z(o,_),g(!1),i(""),h(""),t()},className:x,children:[(0,c.jsx)("label",{className:b,children:"Name"}),(0,c.jsx)("input",{type:"name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:o,onChange:I,className:j}),(0,c.jsx)("label",{className:b,children:"Number"}),(0,c.jsx)("input",{type:"tel",name:"number",pattern:"^[0-9]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:_,onChange:I,className:j}),(0,c.jsx)("div",{className:C,children:(0,c.jsx)("button",{type:"submit",className:v,disabled:w,children:w?(0,c.jsx)(k.g,{}):"Add contact"})})]})})},Y="ButtonModalAddContact_button__juOb3",G=function(){var e=(0,a.useState)(!1),t=(0,l.Z)(e,2),n=t[0],r=t[1],s=function(){r(!1),window.removeEventListener("keydown",o)},o=function(e){"Escape"===e.code&&s()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)($.Z,{variant:"contained",type:"submit",onClick:function(){r(!0),window.addEventListener("keydown",o)},className:Y,children:"Add new contact"}),n&&(0,c.jsxs)(f,{onCloseModal:s,children:[(0,c.jsx)(S,{onCloseModal:s}),(0,c.jsx)(K,{onCloseModal:s})]})]})},U=n(168),W=n(1040),H=n(9256).ZP.div(Z||(Z=(0,U.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 160px;\n"]))),Q=function(){return(0,c.jsx)(H,{children:(0,c.jsx)(W.p2,{height:"80",width:"80",color:"#0b5394",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0})})};function R(){var e=(0,r.I0)(),t=(0,r.v9)(w);return(0,a.useEffect)((function(){e((0,m.yF)())}),[e]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.q,{children:(0,c.jsx)("title",{children:"Your contacts"})}),t?(0,c.jsx)(Q,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{className:T,children:"Phonebook"}),(0,c.jsxs)(i,{children:[(0,c.jsxs)("div",{className:V,children:[(0,c.jsx)(J,{}),(0,c.jsx)(G,{})]}),(0,c.jsx)(B,{})]})]})]})}}}]);
//# sourceMappingURL=680.241a9549.chunk.js.map