"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[680],{8680:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var a=t(2791),r=t(9434),s=t(4270),o="Container_container__VVOCq",c=t(184),i=function(e){var n=e.children;return(0,c.jsx)("section",{className:o,children:n})},l=t(9439),u="ContactsListItem_contactListItem__contactThumb__gyDOt",d="ContactsListItem_contactListItem__button__FNzGF",m=t(3634),_=t(4164),h="Modal_Overlay__yoxbg",p="Modal_Modal__I1UYJ",f=function(e){var n=e.children,t=e.onCloseModal;return(0,_.createPortal)((0,c.jsx)("div",{className:h,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,c.jsx)("div",{className:p,children:n})}),document.querySelector("#popup-root"))},x="ContactForm_phonebook__formContact__1n7wl",b="ContactForm_phonebook__formContactLabel__58UKO",j="ContactForm_phonebook__formContactInput__ADocP",C="ContactForm_buttonWrap__0ZCH-",v="ContactForm_form__button__MT1Jk",N=function(e){return e.contacts.contacts},w=function(e){return e.contacts.isLoading},g=function(e){return e.filter.value},y=t(5218),k=function(e){var n=e.currentId,t=e.currentName,s=e.currentNumber,o=e.onCloseModal,i=(0,a.useState)(t),u=(0,l.Z)(i,2),d=u[0],_=u[1],h=(0,a.useState)(s),p=(0,l.Z)(h,2),f=p[0],w=p[1],g=(0,r.I0)(),k=(0,r.v9)(N),L=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":_(a);break;case"number":w(a);break;default:console.warn("\u0422\u0438\u043f \u043f\u043e\u043b\u044f name - ".concat(t," \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f"))}},F=function(e,t){var a=e.toLowerCase();if(-1!==k.findIndex((function(e){return e.name.toLowerCase()===a})))y.ZP.error("".concat(e," is already in contacts"),{duration:3e3,position:"top-center"});else{var r={name:e,number:t};g((0,m.mP)({currentId:n,newContact:r})),o()}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),F(d,f)},className:x,children:[(0,c.jsx)("label",{className:b,children:"Name"}),(0,c.jsx)("input",{type:"name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,defaultValue:t,onChange:L,className:j}),(0,c.jsx)("label",{className:b,children:"Number"}),(0,c.jsx)("input",{type:"tel",name:"number",pattern:"^[0-9]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,defaultValue:s,onChange:L,className:j}),(0,c.jsx)("div",{className:C,children:(0,c.jsx)("button",{type:"submit",className:v,children:"Edit contact"})})]})})},L="ButtonClose_buttonClose__wgjfl",F="ButtonClose_buttonCloseIcon__6SQ6C";var I,M=t.p+"static/media/icons.4a1de16e886a844401d275329ee76a1f.svg",Z=function(e){var n=e.onCloseModal;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("button",{type:"button",className:L,onClick:n,children:(0,c.jsx)("svg",{className:F,children:(0,c.jsx)("use",{href:"".concat(M,"#icon-x-close")})})})})},S=function(e){var n=e.contact,t=n.id,s=n.name,o=n.number,i=(0,a.useState)(!1),_=(0,l.Z)(i,2),h=_[0],p=_[1],x=(0,a.useState)(!1),b=(0,l.Z)(x,2),j=b[0],C=b[1],v=(0,r.I0)(),N=function(){C(!1),window.removeEventListener("keydown",w)},w=function(e){"Escape"===e.code&&N()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:u,children:[(0,c.jsxs)("p",{children:[s,": "]}),(0,c.jsx)("p",{children:o})]}),(0,c.jsx)("button",{type:"button",onClick:function(){p(!0),v((0,m.GK)(t)),p(!1)},className:d,children:"Delete"}),(0,c.jsx)("button",{type:"button",onClick:function(){C(!0),window.addEventListener("keydown",w)},disabled:h,className:d,children:"Edit"}),j&&(0,c.jsxs)(f,{onCloseModal:N,children:[(0,c.jsx)(Z,{onCloseModal:N}),(0,c.jsx)(k,{onCloseModal:N,currentId:t,currentName:s,currentNumber:o})]})]})},A="ContactList_contactList__title__E15m2",E="ContactList_contactList__list__L6B7x",P="ContactList_contactList__item__w7IDj",q=function(){var e=(0,r.v9)(N),n=(0,r.v9)(g),t=function(){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)})).sort((function(e,n){return e.name.localeCompare(n.name)}))}();return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:A,children:"Contacts"}),(0,c.jsx)("ul",{className:E,children:t.map((function(e){return(0,c.jsx)("li",{className:P,children:(0,c.jsx)(S,{contact:e})},e.id)}))})]})},D={filter__wrap:"Filter_filter__wrap__DZxCY",filter__input:"Filter_filter__input__toa89"},B=t(4808),z=function(){var e=(0,r.I0)(),n=(0,r.v9)(g);return(0,c.jsxs)("div",{className:D.filter__wrap,children:[(0,c.jsx)("label",{className:D.filter__label,children:"Find contacts by name "}),(0,c.jsx)("input",{type:"text",value:n,placeholder:"search...",onChange:function(n){e((0,B.p)(n.currentTarget.value))},className:D.filter__input})]})},O="Contacts_phonebook__title__ylLCu",J="Contacts_wrap__-xpSk",T=t(4281),V=function(e){var n=e.onCloseModal,t=(0,a.useState)(""),s=(0,l.Z)(t,2),o=s[0],i=s[1],u=(0,a.useState)(""),d=(0,l.Z)(u,2),_=d[0],h=d[1],p=(0,r.I0)(),f=(0,r.v9)(N),w=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":i(a);break;case"number":h(a);break;default:console.warn("\u0422\u0438\u043f \u043f\u043e\u043b\u044f name - ".concat(t," \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f"))}},g=function(e,n){var t=e.toLowerCase();if(-1!==f.findIndex((function(e){return e.name.toLowerCase()===t})))y.ZP.error("".concat(e," is already in contacts"),{duration:3e3,position:"top-center"});else{var a={name:e,number:n};p((0,m.uK)(a))}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(o,_),i(""),h(""),n()},className:x,children:[(0,c.jsx)("label",{className:b,children:"Name"}),(0,c.jsx)("input",{type:"name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:o,onChange:w,className:j}),(0,c.jsx)("label",{className:b,children:"Number"}),(0,c.jsx)("input",{type:"tel",name:"number",pattern:"^[0-9]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:_,onChange:w,className:j}),(0,c.jsx)("div",{className:C,children:(0,c.jsx)("button",{type:"submit",className:v,children:"Add contact"})})]})})},$="ButtonModalAddContact_button__juOb3",K=function(){var e=(0,a.useState)(!1),n=(0,l.Z)(e,2),t=n[0],r=n[1],s=function(){r(!1),window.removeEventListener("keydown",o)},o=function(e){"Escape"===e.code&&s()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(T.Z,{variant:"contained",type:"submit",onClick:function(){r(!0),window.addEventListener("keydown",o)},className:$,children:"Add new contact"}),t&&(0,c.jsxs)(f,{onCloseModal:s,children:[(0,c.jsx)(Z,{onCloseModal:s}),(0,c.jsx)(V,{onCloseModal:s})]})]})},Y=t(168),G=t(1040),U=t(9256).ZP.div(I||(I=(0,Y.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 160px;\n"]))),H=function(){return(0,c.jsx)(U,{children:(0,c.jsx)(G.p2,{height:"80",width:"80",color:"#0b5394",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0})})};function Q(){var e=(0,r.I0)(),n=(0,r.v9)(w);return(0,a.useEffect)((function(){e((0,m.yF)())}),[e]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.q,{children:(0,c.jsx)("title",{children:"Your contacts"})}),n?(0,c.jsx)(H,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{className:O,children:"Phonebook"}),(0,c.jsxs)(i,{children:[(0,c.jsxs)("div",{className:J,children:[(0,c.jsx)(z,{}),(0,c.jsx)(K,{})]}),(0,c.jsx)(q,{})]})]})]})}}}]);
//# sourceMappingURL=680.57aa3131.chunk.js.map